<div class="container">
  <!-- Sidebar Component -->
  <app-sidebar [collections]="collections" (requestSelected)="handleRequestSelection($event)"></app-sidebar>

  <!-- Main Content -->
  <main class="main-content">
    <div class="request-section">
      <select class="method-select" [(ngModel)]="selectedRequest.method">
        <option value="GET">GET</option>
        <option value="POST">POST</option>
        <option value="PUT">PUT</option>
        <option value="DELETE">DELETE</option>
      </select>
      <input type="text" class="url-input" placeholder="http://example.com" [(ngModel)]="selectedRequest.uri" />
      <button class="send-button" (click)="sendRequest()">Send</button>
    </div>

    <!-- Request Body Section -->
    <div class="body-section">
      <h3>Request Body</h3>
      <textarea class="request-body" [(ngModel)]="selectedRequest.body" placeholder="Inserisci il JSON del body"></textarea>
    </div>

    <!-- Headers Section -->
    <div class="headers-section">
      <h3>Headers</h3>
      <div *ngFor="let header of selectedRequest.headers | keyvalue" class="header-inputs">
        <input type="text" class="header-key" [value]="header.key" readonly />
        <input type="text" class="header-value" [value]="header.value" readonly />
      </div>
    </div>

    <!-- Response Section -->
    <div class="response-section">
      <h3>Response</h3>
      <div class="response-meta">
        <span class="status">Status: {{ responseStatus }}</span>
        <span class="time">Time: {{ responseTime }} ms</span>
        <span class="size">Size: {{ responseSize | number: '1.2-2' }} KB</span>
      </div>
      <pre class="response-content">{{ responseData | json }}</pre>
    </div>
  </main>
</div>
